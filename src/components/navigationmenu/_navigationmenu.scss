// Navigation Menu
//================================================== //

@mixin nav-item-box-shadow() {
  @include css3(box-shadow, 0 0 8px 1px rgba(0, 0, 0, 0.16));
}

.navigationmenu-container {
  display: flex;
  flex-direction: row;
  overflow: hidden;
  gap: 0;
  width: 100%;
  height: 100%;

  .page-container {
    position: static;
  }

  // =====================================================
  // Display Mode: Hidden

  &:not(.mode-expanded):not(.mode-collapsed) {
    .navigationmenu {
      pointer-events: none;
    }

    .navigationmenu-bar {
      display: none;
    }

    .navigationmenu-detail {
      display: none;
    }
  }

  // =====================================================
  // Display Mode: Collapsed/Expanded

  &.mode-collapsed,
  &.mode-expanded {
    .navigationmenu-bar {
      z-index: 1;
    }

    &:not(.show-detail) {
      .navigationmenu-detail {
        display: none;
      }
    }

    &.show-detail {
      .navigationmenu-bar {
        border-inline-end: 1px solid $nav-menu-border-color;
      }

      .navigationmenu-detail {
        @include drawer-box-shadow;

        width: $nav-menu-submenu-size;
      }
    }
  }

  // =====================================================
  // Display Mode: Collapsed

  &.mode-collapsed {
    .navigationmenu {
      border-inline-end: 1px solid $nav-menu-border-color;
    }

    .navigationmenu-bar {
      width: $nav-menu-collapsed-size;
    }

    .navigationmenu-item {
      justify-content: center;
      padding-block: $nav-menu-item-padding-size;

      // Can't use `audible` here, need to retain line height
      span {
        clip: rect(0, 0, 0, 0);
        width: 1px;
        overflow: hidden;
      }
    }

    &.show-detail {
      .page-container {
        margin-inline-start: ($nav-menu-submenu-size * -1);
      }
    }
  }

  // =====================================================
  // Display Mode: Expanded

  &.mode-expanded {
    border-right: 1px solid $nav-menu-border-color;

    .navigationmenu-bar {
      width: $nav-menu-expanded-size;
    }

    .navigationmenu-item {
      padding: $nav-menu-item-padding-size;

      .icon {
        margin-inline-end: $nav-menu-item-text-icon-spacing;
      }
    }

    .page-container {
      margin-inline-start: ($nav-menu-submenu-size * -1);
    }

    &:not(.show-detail) {
      .navigationmenu-bar {
        @include drawer-box-shadow;
      }
    }

    &.show-detail {
      .navigationmenu-detail {
        width: $nav-menu-submenu-size;
      }

      .page-container {
        margin-inline-start: ($nav-menu-submenu-size * -2);
      }
    }
  }
}

.navigationmenu {
  display: flex;
  flex-direction: row;
  height: 100%;
  position: relative;
}

.navigationmenu-bar {
  display: flex;
  flex-direction: column;
  background-color: $nav-menu-bg-color;
  color: $nav-menu-text-color;
  height: 100%;
  padding: 8px;
  gap: 8px;
}

.navigationmenu-detail {
  background-color: $nav-menu-detail-bg-color;
  border-inline-end: 1px solid $nav-menu-border-color;
  height: 100%;
}

.navigationmenu-item {
  align-items: center;
  border-radius: 4px;
  display: flex;

  span {
    @include font-size(16);
  }

  &:not([disabled]):not(.is-disabled) {
    cursor: pointer;
  }

  &:hover {
    @include nav-item-box-shadow;
  }
}
